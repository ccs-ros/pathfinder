from ctypes import *from packet_class import *from serial_comm.msg import pkt_7_msg#***************************************************************************#* class Packet_7_Type(Structure)#*#* Description: C-type structure that defines the serial buffer packet fields#*#***************************************************************************class Packet_7_Type(Structure):	_pack_ = 1	_fields_=[("H1",c_ubyte),("H2",c_ubyte),("H3",c_ubyte),("counter",c_ushort),("time",c_ushort),("Angle_1",c_short),("Angle_2",c_short),("Angle_3",c_short),("Desired_Angle_1",c_short),("Desired_Angle_2",c_short),("Desired_Angle_3",c_short),("Mode",c_ubyte),("status",c_ubyte),("reserved",c_ubyte*10),("checksum",c_ubyte)]#***************************************************************************#* class Packet_7_Buff(Union)#*#* Description: Union structure that joins the serial buffer and packet structure#*                                    in the same memory location.#*#***************************************************************************class Packet_7_Buff(Union):	_fields_ = [("buffer",c_ubyte*32),("fields",Packet_7_Type)]#***************************************************************************#* class Packet_7(Packet_Class)#*#* Description: Specific packet class that contains serial buffer and fields structure and#*                                    ROS Topic message object.#*                           Includes methods for construction and copying data between buffer and message#***************************************************************************class Packet_7(Packet_Class):		#***************************************************************************	#* method __init__()	#*	#* Description: Constructs and initializes member data	#*	#***************************************************************************	def __init__(self):		self.packet = Packet_7_Buff()		self.initialize_packet(7)		self.msg = pkt_7_msg()		self.msg_class = pkt_7_msg		self.rate_Hz = 10		#***************************************************************************	#* method unpack_buffer2msg	#*	#* Description: copies serial buffer packet fields into ROS Topic message fields	#*	#***************************************************************************	def unpack_buffer2msg(self):		self.msg.counter = self.packet.fields.counter		self.msg.time = self.packet.fields.time		self.msg.Angle_1 = self.packet.fields.Angle_1		self.msg.Angle_2 = self.packet.fields.Angle_2		self.msg.Angle_3 = self.packet.fields.Angle_3		self.msg.Desired_Angle_1 = self.packet.fields.Desired_Angle_1		self.msg.Desired_Angle_2 = self.packet.fields.Desired_Angle_2		self.msg.Desired_Angle_3 = self.packet.fields.Desired_Angle_3		self.msg.Mode = self.packet.fields.Mode		self.msg.status = self.packet.fields.status		#***************************************************************************	#* method pack_msg2buffer	#*	#* Description: copies ROS Topic message fields into serial buffer packet fields	#*	#***************************************************************************	def pack_msg2buffer(self,in_msg):		self.packet.fields.time = in_msg.time		self.packet.fields.Angle_1 = in_msg.Angle_1		self.packet.fields.Angle_2 = in_msg.Angle_2		self.packet.fields.Angle_3 = in_msg.Angle_3		self.packet.fields.Desired_Angle_1 = in_msg.Desired_Angle_1		self.packet.fields.Desired_Angle_2 = in_msg.Desired_Angle_2		self.packet.fields.Desired_Angle_3 = in_msg.Desired_Angle_3		self.packet.fields.Mode = in_msg.Mode		self.packet.fields.status = in_msg.status