from ctypes import *from packet_class import *from serial_comm.msg import pkt_5_msg#***************************************************************************#* class Packet_5_Type(Structure)#*#* Description: C-type structure that defines the serial buffer packet fields#*#***************************************************************************class Packet_5_Type(Structure):	_pack_ = 1	_fields_=[("H1",c_ubyte),("H2",c_ubyte),("H3",c_ubyte),("counter",c_ushort),("time",c_ushort),("A2D_1",c_ushort),("A2D_2",c_ushort),("A2D_3",c_ushort),("A2D_4",c_ushort),("A2D_5",c_ushort),("A2D_6",c_ushort),("A2D_7",c_ushort),("A2D_8",c_ushort),("Laser",c_ushort),("PWM1",c_ubyte),("PWM2",c_ubyte),("PWM3",c_ubyte),("PWM4",c_ubyte),("Radio_range",c_ushort),("Radio_range_conf",c_ushort),("Configuration",c_ubyte),("Stepper",c_ushort),("status",c_ubyte),("reserved",c_ubyte*10),("checksum",c_ubyte)]#***************************************************************************#* class Packet_5_Buff(Union)#*#* Description: Union structure that joins the serial buffer and packet structure#*                                    in the same memory location.#*#***************************************************************************class Packet_5_Buff(Union):	_fields_ = [("buffer",c_ubyte*48),("fields",Packet_5_Type)]#***************************************************************************#* class Packet_5(Packet_Class)#*#* Description: Specific packet class that contains serial buffer and fields structure and#*                                    ROS Topic message object.#*                           Includes methods for construction and copying data between buffer and message#***************************************************************************class Packet_5(Packet_Class):		#***************************************************************************	#* method __init__()	#*	#* Description: Constructs and initializes member data	#*	#***************************************************************************	def __init__(self):		self.packet = Packet_5_Buff()		self.initialize_packet(5)		self.msg = pkt_5_msg()		self.msg_class = pkt_5_msg		self.rate_Hz = 50		#***************************************************************************	#* method unpack_buffer2msg	#*	#* Description: copies serial buffer packet fields into ROS Topic message fields	#*	#***************************************************************************	def unpack_buffer2msg(self):		self.msg.counter = self.packet.fields.counter		self.msg.time = self.packet.fields.time		self.msg.A2D_1 = self.packet.fields.A2D_1		self.msg.A2D_2 = self.packet.fields.A2D_2		self.msg.A2D_3 = self.packet.fields.A2D_3		self.msg.A2D_4 = self.packet.fields.A2D_4		self.msg.A2D_5 = self.packet.fields.A2D_5		self.msg.A2D_6 = self.packet.fields.A2D_6		self.msg.A2D_7 = self.packet.fields.A2D_7		self.msg.A2D_8 = self.packet.fields.A2D_8		self.msg.Laser = self.packet.fields.Laser		self.msg.PWM1 = self.packet.fields.PWM1		self.msg.PWM2 = self.packet.fields.PWM2		self.msg.PWM3 = self.packet.fields.PWM3		self.msg.PWM4 = self.packet.fields.PWM4		self.msg.Radio_range = self.packet.fields.Radio_range		self.msg.Radio_range_conf = self.packet.fields.Radio_range_conf		self.msg.Configuration = self.packet.fields.Configuration		self.msg.Stepper = self.packet.fields.Stepper		self.msg.status = self.packet.fields.status		#***************************************************************************	#* method pack_msg2buffer	#*	#* Description: copies ROS Topic message fields into serial buffer packet fields	#*	#***************************************************************************	def pack_msg2buffer(self,in_msg):		self.packet.fields.time = in_msg.time		self.packet.fields.A2D_1 = in_msg.A2D_1		self.packet.fields.A2D_2 = in_msg.A2D_2		self.packet.fields.A2D_3 = in_msg.A2D_3		self.packet.fields.A2D_4 = in_msg.A2D_4		self.packet.fields.A2D_5 = in_msg.A2D_5		self.packet.fields.A2D_6 = in_msg.A2D_6		self.packet.fields.A2D_7 = in_msg.A2D_7		self.packet.fields.A2D_8 = in_msg.A2D_8		self.packet.fields.Laser = in_msg.Laser		self.packet.fields.PWM1 = in_msg.PWM1		self.packet.fields.PWM2 = in_msg.PWM2		self.packet.fields.PWM3 = in_msg.PWM3		self.packet.fields.PWM4 = in_msg.PWM4		self.packet.fields.Radio_range = in_msg.Radio_range		self.packet.fields.Radio_range_conf = in_msg.Radio_range_conf		self.packet.fields.Configuration = in_msg.Configuration		self.packet.fields.Stepper = in_msg.Stepper		self.packet.fields.status = in_msg.status